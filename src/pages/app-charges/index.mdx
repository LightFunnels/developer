export const description =
  'In this guide, we will look at how to handle charges for your app in Lightfunnels.'

# App charges

In this guide, we will look at how to handle charges for your app in Lightfunnels.

---

## Create app charges

To create an app charge, you need to use the following GraphQL mutation:

<Row>
  <Col>
		### Arguments 
		<Properties> 
			<Property label="createAppChargeInput!" route="/app-charges/types#create-app-charge-input">
				The createAppChargeInput! type.
			</Property>
		</Properties>
		### Fields 
		<Properties>	
			<Property label='createAppChargePayload' route="/app-charges/types#create-app-charge-input-payload">
				The createAppChargePayload type.
			</Property>
		</Properties>	

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://services.lightfunnels.com/api/v2">
			```graphql {{ title: 'GraphQL Mutation' }}
			# Mutation
			mutation createAppChargeMutation($input: createAppChargeInput!) {
				createAppCharge(input: $input) {
					createAppChargePayload type fields
				}
			}
			```
    </CodeGroup>

		```json {{ title: 'createAppChargeInput type example' }}
		{
			"input": {
				"node": {
					"price": 0,
					"return_url": "https://your-website.com",
					"name": "Plan name",
					"trial": 0,
					"plan_id": "navigate to your app billing tab and select a plan id under app plans"
				}
			}
		}
		```

    ```json {{ title: 'createAppChargePayload type example' }}
    {
			"node": {
				"appCharge": {
					"id": "charge id",
					"price": 25.99,
					"name": "basic",
					"started_at": "2024-01-12 15:56:23"
				},
			}
		}
    ```
  </Col>
</Row>

---

## List all app charges	

To get your app charges, you need to use the following GraphQL query:

<Row>
  <Col>
		### Arguments 
		<Properties> 
			appCharges query has no arguments
		</Properties>	
		### Fields 
		<Properties>	
			<Property label="AppCharges!" route="/app-charges/types#app-charges">
				The AppCharges! query type.
			</Property>
		</Properties>	

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://services.lightfunnels.com/api/v2">
			```
			query {
				appCharges{
					list {
						id
						price
						name
						started_at
					}
				}
			}
    	```
    </CodeGroup>
    ```json {{ title: 'Response' }}
		{
			"appCharges": {
				"id": "charge id",
				"price": 25.99,
				"name": "basic",
				"started_at": "2024-01-12 15:56:23"
			}
		}		
    ```
  </Col>
</Row>

---

## Get an app charge	

To get an app charge, you need to use the following GraphQL query:

<Row>
  <Col>
		### Arguments 
		<Properties> 
			<Property name="id" type="ID!">
				The app charge id.
			</Property>
		</Properties>	
		### Fields 
		<Properties>	
			<Property label="AppCharge" route="/app-charges/types#app-charge">
				The AppCharge query type.
			</Property>
		</Properties>	

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://services.lightfunnels.com/api/v2">
			```
			query appChargeQuery($id: ID!) {
				appCharge(id: $id){
					id
					price
					name
					started_at
				}
			}
    	```
    </CodeGroup>
    ```json {{ title: 'Response' }}
		{
			"appCharge": {
				"id": "charge id",
				"price": 25.99,
				"name": "basic",
				"started_at": "2024-01-12 15:56:23"
			}
		}		
    ```
  </Col>
</Row>