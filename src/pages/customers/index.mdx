export const description =
  'On this page, weâ€™ll dive into the different contact endpoints you can use to manage customers programmatically.'

# Customers

These endpoints allow you to retrieve, create, update, and delete Customer(s).	

---

## List all Customers 	

<Row>
  <Col>
    This query allows you to retrieve a paginated list of all your Customers. By default, a maximum of 25 Customers are shown per page.
		### Arguments 
		<Properties> 
			<Property name="query" type="String!">
				Supported filter parameters:
				`order_by`
				`order_dir`
			</Property>
			<Property name="after" type="String">
				Returns the elements that come after the specified cursor.
			</Property>
			<Property name="first" type="String">
				Returns up to the first `n` elements from the list.
			</Property>
		</Properties>	

		### Fields 
		<Properties>	
			<Property label="Customer!" route="/customers/types#customer">
				The Customer! query type.
			</Property>
		</Properties>	

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://api.lightfunnels.com/v2">
			```
			query CustomersQuery($first: Int, $after: String, $query: String!){
				customers(query: "order_by:id order_dir:desc", after: "WzVE4OTA5LDEe/4OTA5XQ==", first: 10){
					edges{
						node{
							id
							_id
							avatar
							full_name
							expenses
							orders_count
							updated_at
							created_at
						}
						cursor
					}
					pageInfo{
						endCursor
						hasNextPage
					}
				}
			}
    	```
    </CodeGroup>
    ```json {{ title: 'Response' }}
    {
			"data": {
				"edges": [{
					"node": {
						"id": "Q3VzdG9tZXI6MTkxMzUw",
						"_id": 191350,
						"avatar": "//www.gravatar.com/avatar/...",
						"full_name": "Yassir Ennazk",
						"expenses": 0,
						"orders_count": 1,
						"updated_at": "an hour ago",
						"created_at": "an hour ago",
						"__typename": "Customer"
					},
					"cursor": "WzE5MTM1MCwxOTEzNTBd"
				}],
				"pageInfo": {
					"endCursor": "WzE0Njk5MSwxNDY5OTFd",
					"hasNextPage": true
				}
			}
		}
    ```
  </Col>
</Row>

---

## Create a Customer 

<Row>
  <Col>
    This query allows you to add a new Customer.
		### Arguments 
		<Properties> 
			<Property label="InputCustomer!" route="/customers/types#input-customer">
				The InputCustomer type.
			</Property>
		</Properties>	

		### Fields 
		<Properties>	
			<Property label="Customer!" route="/customers/types#customer">
				The Customer! query type.
			</Property>
		</Properties>	
		
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://api.lightfunnels.com/v2">
			```
			mutation mutationName($node: InputCustomer!) {
				createCustomer(node: $node){
					# Customer type fields
				}
			}
			```
    </CodeGroup>
    ```json {{ title: 'Response' }}
    {
			"data": {
				"createCustomer": {
					"id": "Q3VzdG9tZXI6MTkxMzUw",
					"_id": 191350,
					"avatar": "//www.gravatar.com/avatar/...",
					"full_name": "Yassir Ennazk",
					...
				}
			}
		}
    ```
  </Col>
</Row>

---

## Retrieve a Customer

<Row>
  <Col>
    This query allows you to retrieve a Customer by providing its id.
		### Arguments 
		<Properties> 
			<Property name="id" type="ID!">
				The Customer id.
			</Property>
		</Properties>	

		### Fields 
		<Properties>	
			<Property label="Customer!" route="/customers/types#customer">
				The Customer! query type.
			</Property>
		</Properties>
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="https://api.lightfunnels.com/v2">
    ```
		query CustomerQuery($id: ID!){
			node(id: $id){
				... on Customer{
					# Customer type fields
				}
			}
		}
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
		{
			"data": {
				"node": {
					"id": "Q3VzdG9tZXI6MTkxMzUw",
					"_id": 191350,
					"avatar": "//www.gravatar.com/avatar/...",
					"full_name": "Yassir Ennazk",
					...
				}
			}
		}
    ```
  </Col>
</Row>

---

## Update a Customer 

<Row>
  <Col>
    This query allows you to perform an update on a Customer.

		### Arguments 
		<Properties> 
			<Property name="id" type="ID!">
				The Customer id.
			</Property>
			<Property name="node" label="InputUpdateCustomer!" route="/customers/types#input-update-customer">
				The Customer node.
			</Property>
		</Properties>

		### Fields 
		<Properties>	
			<Property label="Customer!" route="/customers/types#customer">
				The Customer! query type.
			</Property>
		</Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="Post" label="https://api.lightfunnels.com/v2">

    ```
    mutation updateCustomerMutation($node: InputUpdateCustomer!, $id: ID!){
			updateCustomer(node: $node, id: $id){
				# Customer type fields
			}
		}
    ```
    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
			"data": {
				"updateCustomer": {
					"id": "Q3VzdG9tZXI6MTkxMzUw",
					"_id": 191350,
					"avatar": "//www.gravatar.com/avatar/...",
					"full_name": "Yassir Ennazk",
					...
				}
			}
		}
    ```

  </Col>
</Row>
